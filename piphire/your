
<!-- up -->
<script src="https://cdn.jsdelivr.net/gh/Dogfalo/materialize@master/extras/noUiSlider/nouislider.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

<script src="{{ url('/') }}/assets/vendors/js/extensions/jquery.knob.min.js" type="text/javascript"></script>
<script src="{{ url('/') }}/assets/js/scripts/extensions/knob.js" type="text/javascript"></script>
<script src="{{ url('/') }}/assets/js/range-slider.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<!-- END MODERN JS-->
<!-- BEGIN PAGE LEVEL JS-->
{{-- <script src="{{ url('/') }}/assets/js/scripts/pages/dashboard-sales.js" type="text/javascript"></script> --}}
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

<script src="{{ url('/') }}/assets/js/jquery-ui.min.js"></script>
<script src="{{ url('/') }}/assets/js/filedrag.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.13.5/xlsx.full.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.13.5/jszip.js"></script>
<script>
    // var dataTable1Items = null;
    var interviewData = null;



    function uploadProcess1() {

        var fileUpload = document.getElementById("excel-file")
        // validate proper file type
        var file = fileUpload.files[0]

        var regex = /^([a-zA-Z0-9\s_\(\)\\.\-:])+(.xls|.xlsx)$/

        if (regex.test(file.name)) {
            var reader = new FileReader();
            if (reader.readAsBinaryString) {
                reader.onload = function(e) {
                    var data = getResult1(e.target.result)
                    try {

                        //match header
                        var header = [];
                        for (var headers in data[0]) {
                            header.push(headers)
                        }

                        var a = header;
                        var b = [
                            "#",
                            "Request ID",
                            "Interviewer Name",
                            "Duration",
                            "Date",
                            "Start Time",
                            "End Time",

                            "Email Address",
                            "Contact Number",
                            "Meeting Details"

                        ];

                        if (data.length == 0) {
                            alert("No entries were found in excel file")
                        } else if (Object.keys(data[0]).length == 10 && (JSON.stringify(a) == JSON.stringify(b))) {
                            // console.log(data[0,1],'jiiii')
                            var columnTitles = ["Request ID",
                                "Interviewer Name",
                                "Duration",
                                "Date",
                                "Start Time",
                                "End Time",

                                "Email Address",
                                "Contact Number"
                            ];
                            var count = 1
                            Object.keys(data[0]).map(item => {
                                if (columnTitles.includes(item)) {
                                    count += 1
                                }
                            })
                            if (count < 3) {
                                alert("Wrong file")
                                return
                            }

                            var totalJobs = 0
                            //  var id= data.header;
                            //  console.log( __rowNum__[0],'headerrrrrrrrrrrrrrrrrrrrr')
                            interviewDatata = data.map(d => {
                                // if (d["Job Title"]) {

                                //     totalJobs += parseInt(d["Vacant Positions"] ? d["Vacant Positions"] : 1)
                                //     console.log('hiiii')

                                // }


                                return {
                                    "reqid": d["Request ID"],
                                    "int_name": d["Interviewer Name"],
                                    "duration": d["Duration"],
                                    "date": d["Date"],
                                    "start_time": d["Start Time"],
                                    "end_time": d["End Time"],
                                    "email": d["Email Address"],
                                    "contact": d["Contact Number"],
                                    "details": d["Meeting Details"],

                                }


                            }).filter(d => d["reqid"])


                            createTable1(data);
                            presentTableScreen1();


                        } else {
                            interviewDatata = null;
                            alert("Please download and use the Template File provided")
                        }




                    } catch (err) {
                        alert("There was an error in reading the data")
                        interviewDatata = null;

                    }

                }
                reader.readAsBinaryString(file)

            }

        } else {
            alert("Please download and use the Template File provided");
            console.log("failed");
        }

    }


    function getResult1(data) {
        var workbook = XLSX.read(data, {
            type: 'binary'
        })
        var sheet = workbook.SheetNames[0]
        var rows = XLSX.utils.sheet_to_row_object_array(workbook.Sheets[sheet]);
        return rows
    }

    function createTable1(data) {
        if (interviewDatata) {
console.log(interviewDatata,'llllllllllllllllllllll')
            document.getElementById('jobsSendButton1').disabled = false;
            var table = document.getElementById('dataTable1')
            // var row = table.insertRow(-1);
            var tableBody = document.createElement('tbody');
            tableBody.id = "tableBody"
            var oldTableBody = document.getElementById('tableBody');

            for (var i = 0; i < data.length; i++) {
                if (i == 0) {
                    var row = tableBody.insertRow(-1);
                    for (const header in data[0]) {
                        var headerCell = document.createElement("TH")

                        if (header == "Request ID") {
                            // headerCell.style.width = "500px";
                            // console.log(headerCell.style.width)
                            var span = document.createElement("SPAN");
                            span.innerHTML = header;
                            var span2 = document.createElement("SPAN");
                            span2.innerHTML = "..........................................................................................";
                            span2.style.opacity = 0.001;
                            span.appendChild(span2);
                            headerCell.appendChild(span);
                        } else {
                            headerCell.innerHTML = header
                        }
                        row.appendChild(headerCell);
                    }
                    // console.log(header[0],'yesss')
                }

                var row = tableBody.insertRow(-1)
                for (key in data[i]) {
                    if (data[i]["Request ID"]) {
                        var cell = row.insertCell(-1)
                        if (key == "Request ID") {
                            // cell.classList.add("tableDescription");

                        }
                        cell.innerHTML = data[i][key]

                    }
                }
            }

            // table.appendChild(tableBody);
            table.replaceChild(tableBody, oldTableBody);

        } else {
            document.getElementById('jobsSendButton1').disabled = true;
        }
    }


    function presentTableScreen1() {

        document.getElementById('dataTable1').classList.remove('d-none');
        document.getElementById('jobsSendButton1').classList.remove('d-none');
        document.getElementById('backButton1').classList.remove('d-none');
        document.getElementById('fileReadButton1').classList.add('d-none')
        document.getElementById('upload-section1').classList.add('d-none')
        // document.getElementById('spin').classList.add('d-none');

    }

    function onFileSubmit1() {
        // $(this).toggleClass('active');
        // $('#spin').show();
        // $('#fileReadButton1').hide();


        uploadProcess1();

        // presentTableScreen1()



    }

    
function onJobsSubmit1() {
        $('#spin').show();
        $('#jobsSendButton1').hide();
        postBulkJobs1().then(data => {
            // console.log(data)
        })
    }

async function postBulkJobs1() {
    // fetch()
    // var title = document.getElementById("job-title").value

    console.log(interviewDatata,'pppppppppppppppp')
    var csrf = $('meta[name="csrf-token"]').attr('content')

    document.getElementById('jobsSendButton1').disabled = true;
    try {
        var response = await fetch(window.location.origin + "/Update/Interview/job", {
            method: 'POST',
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr('content'),
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                
                "payload": interviewDatata
            })

        })

        var res = await response.json()
        console.log(res)

        if (res.status) {
            $('#spin').show();
            location.reload();
            // location.href = "bulkJobs/" + res.data;
            // document.getElementById('jobsSendButton1').disabled = false;
        } else {
            // alert(res.message);
            $('#spin').show();
            location.reload();
            // document.getElementById('jobsSendButton1').disabled = true;
        }
    } catch (err) {
        console.log(err);
        document.getElementById('jobsSendButton1').disabled = true;
        alert("There was some issue with the server");
        location.reload();

    }



    return res
    
}
</script>
//  down 
<link rel="stylesheet" href=https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css>

<script src=https://code.jquery.com/jquery-3.6.0.min.js></script>

<script src=https://code.jquery.com/ui/1.12.1/jquery-ui.js></script>
<link rel="stylesheet" href=https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css>

<link rel="stylesheet" href=https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.13.18/jquery.timepicker.min.css>

<script src=https://code.jquery.com/jquery-3.6.0.min.js></script>

<script src=https://code.jquery.com/ui/1.12.1/jquery-ui.js></script>

<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.13.18/jquery.timepicker.min.js></script>



<div class="modal fade modalSize" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Upload Interview File</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">X</button>
            </div>
            <div class="modal-body">
                <div id="upload-section1">
                    <div class="d-flex flex-column justify-content-center align-items-start p-1 w-100">

                        <form>
                            <div class="form-group d-flex flex-row  pt-1 pb-1" style="text-align: right;">

                                <a href="{{ url('/') }}/assets/files/Interview_details.xlsx" download="Interview">
                                    Download Template

                                </a>
                            </div>
                        </form>

                        <div class="upload-area w-100 d-flex flex-row justify-content-center align-items-center dropzone needsclick" id="demo-upload">

                            <input class="btn" type="file" name="excel-file" id="excel-file">


                        </div>

                    </div>
                </div>
                <div id="review-section" class="overflow-auto" style="max-height: 500px;">
                    <table id="dataTable1" class="table">
                        <tbody id="tableBody"></tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer d-flex flex-row justify-content-center">

                <div class="d-flex flex-row w-100 h-100 justify-content-center aligh-items-between ">
                    <button id="fileReadButton1" type="button" onclick="onFileSubmit1(event)" class="btn btn-primary mx-2 w-25">Next</button>

                    <button class="btn  btn-style-modal d-none" style="background-color: #6B6F82;color: #fff;" id="backButton1" onclick="onMoveBack1()">Back</button>
                    <button id="spin" type="button" class="btn btn-primary mx-2 w-25" style="display: none;">Processing...</button>
                    <button class="btn  btn-style-modal d-none" style="background: #2e5bff; color: white;" id="jobsSendButton1" onclick="onJobsSubmit1()">Submit</button>
                </div>

            </div>
        </div>
    </div>
</div>
<script>
    $(function() {

        $("#datepicker").flatpickr({

            dateFormat: ' M - d',

            changeYear: false,

            beforeShow: function(input, inst) {

                inst.dpDiv.addClass("custom-datepicker");

            }

        });



        $("#timepicker").flatpickr({
            enableTime: true,

            noCalendar: true,

            dateFormat: "H:i",

            time_24hr: true,

            minuteIncrement: 15




        });

    });
</script>


<style>
    .custom-datepicker .ui-datepicker-year {

        display: none;

    }
</style>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<link href="{{ url('/') }}/assets/css/jquery-ui.css" rel="stylesheet">

<!--   <link href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/9.0.0/nouislider.min.css" rel="stylesheet"></link> -->
<link rel="stylesheet" type="text/css" href="{{ url('/') }}/assets/css/range-slider.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<div id="scheduleModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="scheduleModalLabel" aria-hidden="true">

    <div class="modal-dialog">

        <div class="modal-content">

            <div class="modal-header">

                <h5 class="modal-title" id="scheduleModalLabel">Schedule Autonomous Job</h5>

                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">X</button>

            </div>
            <div class="modal-body">
                <?php
                if ($auto_job) {
                ?>

                    <div class="row">
                        <div class="col-md-6 col-sm-6 col-xs-6">

                            <label class="control-label">Location</label>
                            <select class="form-control status" name="location" id="location" data-parsley-required-message="Please enter atleast one Skill" disabled>
                                <!-- style="text-align:CENTER ;" -->

                                <option value="ftp" <?php echo ($auto_job->location == 'ftp') ? 'selected' : ''; ?>>FTP</option>

                                <option value="adls" <?php echo ($auto_job->location == 'adls') ? 'selected' : ''; ?>>ADLS</option>
                            </select>
                        </div>

                        <?php
                        if ($auto_job->location == 'ftp') {

                        ?>
                            <div class=" adls-details form col-md-6 col-sm-6 col-xs-6">
                                <label class="control-label">Ftp Hostname:</label>

                                <input type="text" name="ftp_name" class="form-control" value="{{$auto_job->FTP_Hostname}}" readonly>

                            </div>

                            <div class=" adls-details form col-md-6 col-sm-6 col-xs-6" style="margin-top:15px ;">
                                <label class="control-label">Ftp Username:</label>

                                <input type="text" name="ftp_username" class="form-control" value="{{$auto_job->FTP_Username}}" readonly>
                            </div>


                            <div class=" adls-details form col-md-6 col-sm-6 col-xs-6" style="margin-top:15px ;">
                                <label class="control-label">Ftp Password:</label>

                                <input type="tel" name="ftp_password" class="form-control" value="{{$auto_job->FTP_Password}}" readonly>
                            </div>

                        <?php

                        } else {
                        ?>

                            <div class=" ftp-details form col-md-6 col-sm-6 col-xs-6">
                                <label class="control-label">ADLS_StorageAccountKey:</label>

                                <input type="text" name="adls_key" class="form-control" value="{{$auto_job->ADLS_StorageAccountKey}}" readonly>

                            </div>

                            <div class=" ftp-details form col-md-6 col-sm-6 col-xs-6" style="margin-top:15px ;">
                                <label class="control-label">ADLS_ContainerName:</label>

                                <input type="text" name="adls_contname" class="form-control" value="{{$auto_job->ADLS_ContainerName}}" readonly>
                            </div>

                            <div class="ftp-details form col-md-6 col-sm-6 col-xs-6" style="margin-top:15px ;">
                                <label class="control-label">ADLS_StorageAccountName:</label>

                                <input type="tel" name="adls_accname" class="form-control" value="{{$auto_job->ADLS_StorageAccountName}}" readonly>
                            </div>

                        <?php

                        }
                        ?>

                        <div class="form col-md-6 col-sm-6 col-xs-6">
                            <label class="control-label">Path</label>

                            <input type="tel" name="path" class="form-control" value="{{$auto_job->Path}}" readonly>
                        </div>
                        <div class="form col-md-6 col-sm-6 col-xs-6">
                            <label class="control-label">Filename</label>

                            <input type="tel" name="filename" class="form-control" value="{{$auto_job->filename}}" readonly>
                        </div>
                        <br>
                        <br>
                        <br><br><br>
                        <!-- <br>
                                        <br>
                                        <h4 class="titlehead" style="display: flex;
                        align-items: center;
                        justify-content: flex-end;
                        flex-direction: row-reverse;"><span>Job Schedule</span></h4> -->
                        <div class="modal-header col-md-12">

                            <h5 class="modal-title" id="scheduleModalLabel">Schedule Job</h5>


                        </div>

                        <div class="form col-md-6 col-sm-6 col-xs-6">
                            <br><br>
                            <label class="control-label">Frequency</label>
                            <select class="form-control status" name="frequency" id="frequency" data-parsley-required-message="Please enter atleast one Skill" disabled>
                                <!-- style="text-align:CENTER ;" -->

                                <option value="Hourly" <?php echo ($schedule->frequency == 'Hourly') ? 'selected' : ''; ?> readonly>Hourly</option>
                                <option value="Weekly" <?php echo ($schedule->frequency == 'Weekly') ? 'selected' : ''; ?> readonly>Weekly</option>
                                <option value="Monthly" <?php echo ($schedule->frequency == 'Monthly') ? 'selected' : ''; ?> readonly>Monthly</option>
                                <option value="Once" <?php echo ($schedule->frequency == 'Once') ? 'selected' : ''; ?> readonly>Once</option>
                            </select>
                        </div>
                        <?php
                        if ($schedule->hour) {
                        ?>
                            <div class="form col-md-6 col-sm-6 col-xs-6">
                                <br><br>
                                <label class="control-label">Hour:</label>

                                <input type="text" name="hour" id="month" class="form-control" value="{{$schedule->hour}}" readonly>
                            </div>
                        <?php
                        }
                        if ($schedule->weekday) {
                        ?>


                            <div class="form col-md-6 col-sm-6 col-xs-6">
                                <br><br>
                                <label class="control-label">Weekday:</label>

                                <input type="text" name="week" id="month" class="form-control" value="{{$schedule->weekday}}" readonly>
                            </div>
                        <?php
                        }
                        if ($schedule->month) {
                        ?>
                            <div class="form col-md-6 col-sm-6 col-xs-6">
                                <br><br>
                                <label class="control-label">Month</label>

                                <input type="text" name="month" id="month" class="form-control" value="{{$schedule->month}}" readonly>
                            </div>
                        <?php
                        }
                        ?>
                    </div>
                    <br><br>
                    <div class="form-group" style="float: right;margin-right:50px">
                        <!-- basic buttons -->
                        <a href="#" data-bs-toggle="modal" data-bs-target="#editscheduleModal"> <button class="btn btn-success" style="background-color: #2e5bff;">Edit</button></a>
                    </div><br><br>
                    </button>
                <?php
                } else {
                ?>
                    <form name="create" id="usercreate" enctype="multipart/form-data" method="post" action="{{ url('/Autonomous/job') }}" class="common-form edit-profile">

                        @csrf <div class="row">
                            <div class="col-md-6 col-sm-6 col-xs-6">

                                <label class="control-label">Location</label>
                                <select class="form-control status" name="location" id="location" data-parsley-required-message="Please enter atleast one Skill" required>
                                    <!-- style="text-align:CENTER ;" -->
                                    <option>Select</option>
                                    <option value="ftp">FTP</option>
                                    <option value="adls">ADLS</option>
                                </select>

                            </div>

                            <div class=" adls-details form col-md-6 col-sm-6 col-xs-6" style="display: none;">
                                <label class="control-label">Ftp Hostname:</label>

                                <input type="text" name="ftp_name" class="form-control" value="">

                            </div>

                            <div class=" adls-details form col-md-6 col-sm-6 col-xs-6" style="display: none;">
                                <label class="control-label">Ftp Username:</label>

                                <input type="text" name="ftp_username" class="form-control" value="">
                            </div>


                            <div class=" adls-details form col-md-6 col-sm-6 col-xs-6" style="display: none;">
                                <label class="control-label">Ftp Password:</label>

                                <input type="tel" name="ftp_password" class="form-control" value="">
                            </div>



                            <div class=" ftp-details form col-md-6 col-sm-6 col-xs-6" style="display: none;">
                                <label class="control-label">ADLS_StorageAccountKey:</label>

                                <input type="text" name="adls_key" class="form-control" value="">

                            </div>

                            <div class=" ftp-details form col-md-6 col-sm-6 col-xs-6" style="display: none;">
                                <label class="control-label">ADLS_ContainerName:</label>

                                <input type="text" name="adls_contname" class="form-control" value="">
                            </div>

                            <div class="ftp-details form col-md-6 col-sm-6 col-xs-6" style="display: none;">
                                <label class="control-label">ADLS_StorageAccountName:</label>

                                <input type="tel" name="adls_accname" class="form-control" value="">
                            </div>


                            <div class="col-md-6 col-sm-6 col-xs-6">

                                <label class="control-label">Path</label>

                                <input type="tel" name="path" class="form-control" value="">

                            </div>
                            <div class="col-md-6 col-sm-6 col-xs-6">

                                <label class="control-label">Filename</label>

                                <input type="tel" name="filename" class="form-control" value="">

                            </div>
                            <br>
                            <br>
                            <br><br><br>
                            <!-- <br>
                                        <br>
                                        <h4 class="titlehead" style="display: flex;
                        align-items: center;
                        justify-content: flex-end;
                        flex-direction: row-reverse;"><span>Job Schedule</span></h4> -->
                            <div class="modal-header col-md-12">

                                <h5 class="modal-title" id="scheduleModalLabel">Schedule Job</h5>


                            </div>
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <br><br>
                                <label class="control-label">Frequency</label>
                                <select class="form-control status" name="frequency" id="frequency" data-parsley-required-message="Please enter atleast one Skill" required>
                                    <!-- style="text-align:CENTER ;" -->
                                    <option>Select</option>
                                    <option value="Hourly">Hourly</option>
                                    <option value="Weekly">Weekly</option>
                                    <option value="Monthly">Monthly</option>
                                    <option value="Once">Once</option>
                                </select>

                            </div>



                            <div class="form col-md-6 col-sm-6 col-xs-6" style="display: none;" id="week1">
                                <br><br>

                                <label class="control-label">Weekday:</label>

                                <select class="form-control status" name="week" id="week" data-parsley-required-message="Please enter atleast one Skill" required>
                                    <!-- style="text-align:CENTER ;" -->
                                    <option>Select</option>
                                    <option value="Sunday">Sunday</option>
                                    <option value="Monday">Monday</option>
                                    <option value="Tuesday">Tuesday</option>
                                    <option value="Wendesday">Wendesday</option>
                                    <option value="Thursday">Thursday</option>
                                    <option value="Friday">Friday</option>
                                    <option value="Saturday">Saturday</option>

                                </select>
                            </div>
                            <div class="form col-md-6 col-sm-6 col-xs-6" style="display: none;" id="month1">
                                <br><br>

                                <label class="control-label">Select Date</label>
                                <input class="form-control " type="text" id="datepicker" name="month" />
                            </div>
                            <div class="form col-md-6 col-sm-6 col-xs-6" style="display: none;" id="hour1">


                                <label class="control-label">Time:</label>

                                <input type="text" name="hour" id="timepicker" class="form-control" value="">
                            </div>


                        </div>
                        <button type="submit" class="w3-btn" style="height: 30px;width:80px;margin-left:3%;background-color:#2e5bff;color:white;margin-top:20px">
                            <p style="margin-top:2px">Submit</p>
                        </button>
                    </form>


                <?php
                }
                ?>
            </div>
            <!-- <div class="modal-footer">

        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

        <button type="button" class="btn btn-primary">Save</button>

      </div> -->

        </div>

    </div>

</div>

<?php
if ($auto_job) {

?>


    <div id="editscheduleModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="scheduleModalLabel" aria-hidden="true">

        <div class="modal-dialog">

            <div class="modal-content">

                <div class="modal-header">

                    <h5 class="modal-title" id="scheduleModalLabel">Schedule Autonomous Job</h5>

                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">X</button>

                </div>
                <div class="modal-body">
                    <form name="create" id="usercreate" enctype="multipart/form-data" method="post" action="{{ url('/Update/Autonomous/job') }}" class="common-form edit-profile">
                        @csrf

                        <div class="row">
                            <div class="col-md-6 col-sm-6 col-xs-6">

                                <label class="control-label">Location</label>
                                <select class="form-control status" name="location" id="location1" data-parsley-required-message="Please enter atleast one Skill">
                                    <!-- style="text-align:CENTER ;" -->

                                    <option value="ftp" <?php echo ($auto_job->location == 'ftp') ? 'selected' : ''; ?>>FTP</option>

                                    <option value="adls" <?php echo ($auto_job->location == 'adls') ? 'selected' : ''; ?>>ADLS</option>
                                </select>
                            </div>


                            <div class=" adls-details1 form col-md-6 col-sm-6 col-xs-6" style="display: none;">
                                <label class="control-label">Ftp Hostname:</label>

                                <input type="text" name="ftp_name" class="form-control" value="{{$auto_job->FTP_Hostname}}">

                            </div>

                            <div class=" adls-details1 form col-md-6 col-sm-6 col-xs-6" style="margin-top:15px ;" style="display: none;">
                                <label class="control-label">Ftp Username:</label>

                                <input type="text" name="ftp_username" class="form-control" value="{{$auto_job->FTP_Username}}">
                            </div>


                            <div class=" adls-details1 form col-md-6 col-sm-6 col-xs-6" style="margin-top:15px ;" style="display: none;">
                                <label class="control-label">Ftp Password:</label>

                                <input type="tel" name="ftp_password" class="form-control" value="{{$auto_job->FTP_Password}}">
                            </div>



                            <div class=" ftp-details1 form col-md-6 col-sm-6 col-xs-6" style="display: none;">
                                <label class="control-label">ADLS_StorageAccountKey:</label>

                                <input type="text" name="adls_key" class="form-control" value="{{$auto_job->ADLS_StorageAccountKey}}">

                            </div>

                            <div class=" ftp-details1 form col-md-6 col-sm-6 col-xs-6" style="margin-top:15px ;" style="display: none;">
                                <label class="control-label">ADLS_ContainerName:</label>

                                <input type="text" name="adls_contname" class="form-control" value="{{$auto_job->ADLS_ContainerName}}">
                            </div>

                            <div class="ftp-details1 form col-md-6 col-sm-6 col-xs-6" style="margin-top:15px ;" style="display: none;">
                                <label class="control-label">ADLS_StorageAccountName:</label>

                                <input type="tel" name="adls_accname" class="form-control" value="{{$auto_job->ADLS_StorageAccountName}}">
                            </div>



                            <div class="form col-md-6 col-sm-6 col-xs-6">
                                <label class="control-label">Path</label>

                                <input type="tel" name="path" class="form-control" value="{{$auto_job->Path}}">
                            </div>
                            <div class="form col-md-6 col-sm-6 col-xs-6">
                                <label class="control-label">Filename</label>

                                <input type="tel" name="filename" class="form-control" value="{{$auto_job->filename}}">
                            </div>
                            <br>
                            <br>
                            <br><br><br>
                            <!-- <br>
                                        <br>
                                        <h4 class="titlehead" style="display: flex;
                        align-items: center;
                        justify-content: flex-end;
                        flex-direction: row-reverse;"><span>Job Schedule</span></h4> -->
                            <div class="modal-header col-md-12">

                                <h5 class="modal-title" id="scheduleModalLabel">Schedule Job</h5>


                            </div>

                            <div class="form col-md-6 col-sm-6 col-xs-6">
                                <br><br>
                                <label class="control-label">Frequency</label>
                                <select class="form-control status" name="frequency" id="frequency1" data-parsley-required-message="Please enter atleast one Skill">
                                    <!-- style="text-align:CENTER ;" -->

                                    <option value="Hourly" <?php echo ($schedule->frequency == 'Hourly') ? 'selected' : ''; ?> readonly>Hourly</option>
                                    <option value="Weekly" <?php echo ($schedule->frequency == 'Weekly') ? 'selected' : ''; ?> readonly>Weekly</option>
                                    <option value="Monthly" <?php echo ($schedule->frequency == 'Monthly') ? 'selected' : ''; ?> readonly>Monthly</option>
                                    <option value="Once" <?php echo ($schedule->frequency == 'Once') ? 'selected' : ''; ?>>Once</option>
                                </select>
                            </div>





                            <div class="form col-md-6 col-sm-6 col-xs-6" style="display: none;" id="week2">
                                <br><br>
                                <label class="control-label">Weekday:</label>

                                <!-- <input type="text" name="week" id="month" class="form-control" value="{{$schedule->weekday}}"> -->
                                <select class="form-control status" name="week" id="week" data-parsley-required-message="Please enter atleast one Skill" required>
                                    <!-- style="text-align:CENTER ;" -->

                                    <option value="Sunday" <?php echo ($schedule->weekday == 'Sunday') ? 'selected' : ''; ?>>Sunday</option>
                                    <option value="Monday" <?php echo ($schedule->weekday == 'Monday') ? 'selected' : ''; ?>>Monday</option>
                                    <option value="Tuesday" <?php echo ($schedule->weekday == 'Tuesday') ? 'selected' : ''; ?>>Tuesday</option>
                                    <option value="Wendesday" <?php echo ($schedule->weekday == 'Wendesday') ? 'selected' : ''; ?>>Wendesday</option>
                                    <option value="Thursday" <?php echo ($schedule->weekday == 'Thursday') ? 'selected' : ''; ?>>Thursday</option>
                                    <option value="Friday" <?php echo ($schedule->weekday == 'Friday') ? 'selected' : ''; ?>>Friday</option>
                                    <option value="Saturday" <?php echo ($schedule->weekday == 'Saturday') ? 'selected' : ''; ?>>Saturday</option>

                                </select>
                            </div>

                            <div class="form col-md-6 col-sm-6 col-xs-6" style="display: none;" id="month2">
                                <br><br>
                                <label class="control-label">Month</label>

                                <!-- <input type="text" name="month" id="month" class="form-control" value="{{$schedule->month}}"> -->
                                <input class="form-control " type="text" id="datepicker" name="month" value="{{$schedule->month}}" />

                            </div>
                            <div class="form col-md-6 col-sm-6 col-xs-6" style="display: none;" id="hour2">
                                <br><br>
                                <label class="control-label">Hour:</label>

                                <!-- <input type="text" name="hour" id="month" class="form-control" value="{{$schedule->hour}}"> -->
                                <input class="form-control " type="text" id="timepicker" name="hour" value="{{$schedule->hour}}" />

                            </div>


                        </div>
                        <br><br>
                        <div class="form-group" style="float: right;margin-right:50px">
                            <!-- basic buttons -->
                            <button type="submit" class="w3-btn" style="height: 30px;width:80px;margin-left:3%;background-color:#2e5bff;color:white;margin-top:20px">
                                <p style="margin-top:2px">Submit</p>

                            </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

<?php
}
?>




<!-- modal for interview file upload -->






<!-- Include Bootstrap JavaScript -->

<script src=https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/js/bootstrap.bundle.min.js></script>


<script>
    window.onload = function() {
        var select = document.getElementById('location');
        console.log(select, 'dghfjyjyufweft')

        var ftpDetails = document.getElementsByClassName('ftp-details');
        var adlsDetails = document.getElementsByClassName('adls-details');
        console.log(ftpDetails)
        if (select.value === 'adls') {
            console.log('yyyyyyyyyyyyyyyyyyyyyyyy')
            showElements(ftpDetails);

            hideElements(adlsDetails);
        } else if (select.value === 'ftp') {
            showElements(adlsDetails);

            hideElements(ftpDetails);
        }


        select.addEventListener('change', function() {

            var ftpDetails = document.getElementsByClassName('ftp-details');
            var adlsDetails = document.getElementsByClassName('adls-details');
            console.log('ftpDqqqqqqqqqqqqqqqqqqqqqqqqetails')
            if (select.value === 'adls') {
                showElements(ftpDetails);

                hideElements(adlsDetails);
            } else if (select.value === 'ftp') {
                showElements(adlsDetails);

                hideElements(ftpDetails);
            }
        });




        var selectElement = document.getElementById("frequency");
        var hour = document.getElementById("hour1");

        var month = document.getElementById("month1");
        var week = document.getElementById("week1");
        if (selectElement.value === "Hourly") {

            hour.style.display = "none";
            week.style.display = "none";
            month.style.display = "none";
        }
        if (selectElement.value === "Weekly") {

            hour.style.display = "block";
            week.style.display = "block";
            month.style.display = "none";
        }
        if (selectElement.value === "Monthly") {

            hour.style.display = "block";
            week.style.display = "none";
            month.style.display = "block";
        }
        if (selectElement.value === "Once") {

            hour.style.display = "none";
            week.style.display = "none";
            month.style.display = "none";
        }

        selectElement.addEventListener("change", function() {
            console.log(selectElement.value, 'jjjjjjj66666666666666666666')

            if (selectElement.value === "Hourly") {

                hour.style.display = "none";
                week.style.display = "none";
                month.style.display = "none";
            }
            if (selectElement.value === "Weekly") {

                hour.style.display = "block";
                week.style.display = "block";
                month.style.display = "none";
            }
            if (selectElement.value === "Monthly") {

                hour.style.display = "block";
                week.style.display = "none";
                month.style.display = "block";
            }
            if (selectElement.value === "Once") {

                hour.style.display = "none";
                week.style.display = "none";
                month.style.display = "none";
            }

        });

    }

    function showElements(elements) {

        for (var i = 0; i < elements.length; i++) {

            elements[i].style.display = 'block';

        }

    }



    function hideElements(elements) {

        for (var i = 0; i < elements.length; i++) {

            elements[i].style.display = 'none';

        }

        //   edit schedule
        var select1 = document.getElementById('location1');

        var ftpDetails1 = document.getElementsByClassName('ftp-details1');
        var adlsDetails1 = document.getElementsByClassName('adls-details1');
        console.log(ftpDetails1)
        if (select1.value === 'adls') {
            showElements1(ftpDetails1);

            hideElements1(adlsDetails1);
        } else if (select1.value === 'ftp') {
            showElements1(adlsDetails1);

            hideElements1(ftpDetails1);
        }


        select1.addEventListener('change', function() {

            var ftpDetails1 = document.getElementsByClassName('ftp-details1');
            var adlsDetails1 = document.getElementsByClassName('adls-details1');
            if (select1.value === 'adls') {
                showElements1(ftpDetails1);

                hideElements1(adlsDetails1);
            } else if (select1.value === 'ftp') {
                showElements1(adlsDetails1);

                hideElements1(ftpDetails1);
            }
        });




        var selectElement1 = document.getElementById("frequency1");
        var hour1 = document.getElementById("hour2");

        var month1 = document.getElementById("month2");
        var week1 = document.getElementById("week2");
        if (selectElement1.value === "Hourly") {

            hour1.style.display = "none";
            week1.style.display = "none";
            month1.style.display = "none";
        }
        if (selectElement1.value === "Weekly") {

            hour1.style.display = "block";
            week1.style.display = "block";
            month1.style.display = "none";
        }
        if (selectElement1.value === "Monthly") {

            hour1.style.display = "block";
            week1.style.display = "none";
            month1.style.display = "block";
        }
        if (selectElement1.value === "Once") {

            hour1.style.display = "none";
            week1.style.display = "none";
            month1.style.display = "none";
        }

        selectElement1.addEventListener("change", function() {

            if (selectElement1.value === "Hourly") {

                hour1.style.display = "none";
                week1.style.display = "none";
                month1.style.display = "none";
            }
            if (selectElement1.value === "Weekly") {

                hour1.style.display = "block";
                week1.style.display = "block";
                month1.style.display = "none";
            }
            if (selectElement1.value === "Monthly") {

                hour1.style.display = "block";
                week1.style.display = "none";
                month1.style.display = "block";
            }
            if (selectElement1.value === "Once") {

                hour1.style.display = "none";
                week1.style.display = "none";
                month1.style.display = "none";
            }

        });

    }

    function showElements1(elements) {

        for (var i = 0; i < elements.length; i++) {

            elements[i].style.display = 'block';

        }

    }



    function hideElements1(elements) {

        for (var i = 0; i < elements.length; i++) {

            elements[i].style.display = 'none';

        }

    }

    function reloadPage() {
        location.reload();
    }
</script>
